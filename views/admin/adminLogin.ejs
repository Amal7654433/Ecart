<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Site Metas -->
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="https://i.postimg.cc/L59GX6ZK/white.png" type="image/x-icon">
  <title>
    Admin
  </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link href="/stylesheets/style.css" rel="stylesheet">
  <style>
    .error {
      color: red;
    }
 
    #eyeIcon {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 20px;
        color: #333;
        cursor: pointer;
    }
  </style>


</head>

<body>
  <!-- <script src="./javascripts/validation.js"></script> -->
  <div class="container">
    <section class="vh-100">

      <div class="py-5 h-100">
        <div class="text-center">

        </div>
        <div class="row mx-auto justify-content-center p-2">
          <div class="col-md-6 col-lg-6 col-xl-6 pt-5">
            <form onsubmit="return loginValidate()" action="/admin" method="post" class="border-dark" id="signinForm">
              <h1 class="pb-3 font-weight-bold">Admin Login</h1>
              <!-- Email input -->
              <div class="form-outline mb-4">
                <input type="text" id="lEmail" name="email" class="form-control form-control-lg border-dark"
                  placeholder="Email address" />
                <span class="errorA text-danger" id="lEmailErr"></span>
              </div>

              <!-- Password input -->
              <div class="form-outline mb-4">
                <div class="inputbox">
                  <input type="password" id="lPassword" name="password" class="form-control form-control-lg border-dark"
                    placeholder="Password" />
                  <i class="fas fa-eye" id="eyeIcon" onclick="togglePasswordVisibility()"></i>
                </div>

                <span class="errorA text-danger"  id="lPassErr"></span>
              </div>

              <!-- Submit button -->
              <button type="submit" class="btn btn-primary btn-lg btn-block w-100 border-dark">Login</button>
              <h6 class="text-danger p-3 text-center pb-5"></h6>
            </form>
          </div>
          <% if(typeof message!=='undefined' ){ %>
            <p class="text-danger text-center " style="font: size 30px ;">
              <%= message%>
            </p>
            <% } %>
        </div>
      </div>
    </section>
  </div>


  <script src="/javascripts/script.js"></script>
</body>

</html>

<script>
   function printError(elemId, hintMsg) {
            document.getElementById(elemId).innerText = hintMsg;
        }

    function loginValidate() {
    const email = document.getElementById('lEmail').value;
    const password = document.getElementById('lPassword').value;
  
    let isValid = true;
  
    if (email.trim() == '') {
      printError('lEmailErr', '!Please enter your email address');
      isValid = false;
    } else {
      const regex = /^\S+@\S+\.\S+$/;
      if (regex.test(email) === false) {
        printError('lEmailErr', '!Please enter a valid email address');
        isValid = false;
      } else {
        printError('lEmailErr', '');
      }
    }
  
    if (password.trim() == '') {
      printError('lPassErr', '!Please enter your password');
      isValid = false;
    } else {
      printError('lPassErr', '');
    }
  
   return isValid
  }
  // const signinForm = document.getElementById('signinForm');
  // signinForm.addEventListener('submit', function (event) {

  //   event.preventDefault();

  //   const isValid = loginValidate();

  //   if (!isValid) {
  //     return false;
  //   } else {
  //     signinForm.submit();
  //   }

  // });
</script>
<script>
  function togglePasswordVisibility() {
    const passwordInput = document.getElementById('lPassword');
    const eyeIcon = document.getElementById('eyeIcon');

    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      eyeIcon.classList.remove('fa-eye');
      eyeIcon.classList.add('fa-eye-slash');
    } else {
      passwordInput.type = 'password';
      eyeIcon.classList.remove('fa-eye-slash');
      eyeIcon.classList.add('fa-eye');
    }
  }

</script>